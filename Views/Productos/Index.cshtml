@model IEnumerable<Inventario360.Models.Producto>

@{
    ViewData["Title"] = "Inventario de Productos";
}

<div class="container mt-3">
    <h2 class="text-center my-2 d-flex align-items-center justify-content-center">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-warehouse me-2">
            <path d="M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z" />
            <path d="M6 18h12" />
            <path d="M6 14h12" />
            <rect width="12" height="12" x="6" y="10" />
        </svg>
        Inventario de Bodega
    </h2>

    <div class="row mb-3">
        <div class="col-md-6"></div>
        <div class="col-md-6 text-end">
            @if (User.IsInRole("Administrador") || User.IsInRole("Proyectos"))
            {
                <a asp-action="Crear" class="btn btn-secondary">Agregar Producto</a>
            }
        </div>
    </div>

    <div class="table-responsive">
        <table id="productosTable" class="table table-striped table-bordered table-hover nowrap" width="100%">
            <thead class="table-secondary">
                <tr>
                    <th class="p-3 d-none">ITEM</th>
                    <th class="p-3 all">Nombre Técnico</th>
                    <th class="p-3">Cantidad</th>
                    <th class="p-3">Medida</th>
                    <th class="p-3 d-none">Unidad de Medida</th>
                    <th class="p-3 d-none">Marca</th>
                    <th class="p-3">Ubicación</th>
                    <th class="p-3">Estado</th>
                    <th class="p-3">Categoría</th>
                    <th class="p-3">Imagen</th>
                    <th class="p-3">Acciones</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var producto in Model)
                {
                    <tr id="fila-@producto.ITEM">
                        <td class="d-none">@producto.ITEM</td>
                        <td class="all">
                            <a href="@Url.Action("Detalle", "Productos", new { id = producto.ITEM })" class="fw-bold text-dark">
                                @(char.ToUpper(producto.NombreTecnico[0]) + producto.NombreTecnico.Substring(1).ToLower())
                            </a>
                        </td>
                        <td class="@(producto.Cantidad == 0 ? "text-danger fw-bold" : "")">@producto.Cantidad</td>
                        <td>@producto.Medida</td>
                        <td class="d-none">@producto.UnidadMedida</td>
                        <td class="d-none">@producto.Marca</td>
                        <td>@producto.Ubicacion</td>
                        <td>@producto.Estado</td>
                        <td>@producto.Categoria</td>
                        <td>
                            <img src="~/images/@producto.Imagen" alt="Imagen Producto" width="50" height="50">
                        </td>
                        <td>
                            @if (User.IsInRole("Administrador") || User.IsInRole("Proyectos"))
                            {
                                <a asp-action="Editar" asp-route-id="@producto.ITEM" class="btn btn-icon">✏️</a>
                                <button type="button" class="btn btn-icon"
                                        onclick="confirmarEliminacion(@producto.ITEM, '@producto.NombreTecnico', '@producto.Categoria')">
                                    🗑️
                                </button>
                            }
                            else
                            {
                                <span class="text-muted">-</span>
                            }
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<!-- Modal y Scripts siguen sin cambios -->
@* ... los @section Scripts y <style> se mantienen como los tienes *@
